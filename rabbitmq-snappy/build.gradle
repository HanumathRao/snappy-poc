dependencies {
  provided 'io.snappydata:snappy-core_2.10:0.2-SNAPSHOT'
  // provided 'com.stratio.receiver:spark-rabbitmq_1.5:0.2.0'
  compile 'com.rabbitmq:amqp-client:3.5.7'
  compile project(':')
}

task publishRabbitMQMsgs(type: JavaExec, dependsOn: classes) {
  main = 'io.snappydata.adanalytics.aggregator.RabbitMQPublisher'
  classpath sourceSets.main.runtimeClasspath
  classpath configurations.runtime
}

task receiveRabbitMQMsgs(type: JavaExec, dependsOn: classes) {
  main = 'io.snappydata.adanalytics.aggregator.RabbitMQSnappyStream'
  classpath sourceSets.main.runtimeClasspath
  classpath configurations.runtime
  jvmArgs = ['-XX:MaxPermSize=512m'] // for snappy
}
